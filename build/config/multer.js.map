{"version":3,"file":"multer.js","names":["cloudinary","require","v2","CloudinaryStorage","multer","cloudStorage","params","folder","format","req","file","public_id","console","log","originalname","storage","diskStorage","destination","cb","filename","Date","now","module","exports","upload","imageUpload"],"sources":["../../src/config/multer.js"],"sourcesContent":["const cloudinary = require(\"cloudinary\").v2;\nconst { CloudinaryStorage } = require(\"multer-storage-cloudinary\");\nconst multer = require(\"multer\");\n\nconst cloudStorage = new CloudinaryStorage({\n  cloudinary: cloudinary,\n  params: {\n    folder: \"youngTech/blog1\",\n    format: async (req, file) => \"png\", // forces png format\n    public_id: (req, file) => {\n      console.log(file);\n      return file.originalname;\n    },\n  },\n});\n\nvar storage = multer.diskStorage({\n  destination: (req, file, cb) => {\n    cb(null, \"src/uploads\");\n  },\n  filename: (req, file, cb) => {\n    cb(null, Date.now() + \"-\" + file.originalname);\n  },\n});\n\nmodule.exports = {\n  upload: multer({ storage }),\n  imageUpload: multer({ storage: cloudStorage }),\n};\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC,CAACC,EAAE;AAC3C,MAAM;EAAEC;AAAkB,CAAC,GAAGF,OAAO,CAAC,2BAA2B,CAAC;AAClE,MAAMG,MAAM,GAAGH,OAAO,CAAC,QAAQ,CAAC;AAEhC,MAAMI,YAAY,GAAG,IAAIF,iBAAiB,CAAC;EACzCH,UAAU,EAAEA,UAAU;EACtBM,MAAM,EAAE;IACNC,MAAM,EAAE,iBAAiB;IACzBC,MAAM,EAAE,MAAAA,CAAOC,GAAG,EAAEC,IAAI,KAAK,KAAK;IAAE;IACpCC,SAAS,EAAEA,CAACF,GAAG,EAAEC,IAAI,KAAK;MACxBE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MACjB,OAAOA,IAAI,CAACI,YAAY;IAC1B;EACF;AACF,CAAC,CAAC;AAEF,IAAIC,OAAO,GAAGX,MAAM,CAACY,WAAW,CAAC;EAC/BC,WAAW,EAAEA,CAACR,GAAG,EAAEC,IAAI,EAAEQ,EAAE,KAAK;IAC9BA,EAAE,CAAC,IAAI,EAAE,aAAa,CAAC;EACzB,CAAC;EACDC,QAAQ,EAAEA,CAACV,GAAG,EAAEC,IAAI,EAAEQ,EAAE,KAAK;IAC3BA,EAAE,CAAC,IAAI,EAAEE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGX,IAAI,CAACI,YAAY,CAAC;EAChD;AACF,CAAC,CAAC;AAEFQ,MAAM,CAACC,OAAO,GAAG;EACfC,MAAM,EAAEpB,MAAM,CAAC;IAAEW;EAAQ,CAAC,CAAC;EAC3BU,WAAW,EAAErB,MAAM,CAAC;IAAEW,OAAO,EAAEV;EAAa,CAAC;AAC/C,CAAC","ignoreList":[]}